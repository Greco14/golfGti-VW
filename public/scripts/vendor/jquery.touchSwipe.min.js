!function(n){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],n):n(jQuery)}(function($){"use strict";function n(n){return!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=a),void 0!==n.click&&void 0===n.tap&&(n.tap=n.click),n||(n={}),n=$.extend({},$.fn.swipe.defaults,n),this.each(function(){var t=$(this),r=t.data(P);r||(r=new e(this,n),t.data(P,r))})}function e(n,e){function g(n){if(!(ce()||$(n.target).closest(e.excludedElements,We).length>0)){var t=n.originalEvent?n.originalEvent:n,r,i=O?t.touches[0]:t;return Fe=S,O?Ve=t.touches.length:n.preventDefault(),Ue=0,He=null,Ye=null,je=0,_e=0,Qe=0,Ce=1,Xe=0,ze=de(),qe=ve(),le(),!O||Ve===e.fingers||e.fingers===T||Y()?(he(0,i),Ge=Me(),2==Ve&&(he(1,t.touches[1]),_e=Qe=Se(ze[0].start,ze[1].start)),(e.swipeStatus||e.pinchStatus)&&(r=N(t,Fe))):r=!1,r===!1?(Fe=y,N(t,Fe),r):(e.hold&&(nt=setTimeout($.proxy(function(){We.trigger("hold",[t.target]),e.hold&&(r=e.hold.call(We,t,t.target))},this),e.longTapThreshold)),se(!0),null)}}function L(n){var t=n.originalEvent?n.originalEvent:n;if(Fe!==m&&Fe!==y&&!ae()){var r,i=O?t.touches[0]:t,o=pe(i);if(Ze=Me(),O&&(Ve=t.touches.length),e.hold&&clearTimeout(nt),Fe=E,2==Ve&&(0==_e?(he(1,t.touches[1]),_e=Qe=Se(ze[0].start,ze[1].start)):(pe(t.touches[1]),Qe=Se(ze[0].end,ze[1].end),Ye=me(ze[0].end,ze[1].end)),Ce=Ee(_e,Qe),Xe=Math.abs(_e-Qe)),Ve===e.fingers||e.fingers===T||!O||Y()){if(He=xe(o.start,o.end),C(n,He),Ue=ye(o.start,o.end),je=be(),ge(He,Ue),(e.swipeStatus||e.pinchStatus)&&(r=N(t,Fe)),!e.triggerOnTouchEnd||e.triggerOnTouchLeave){var u=!0;if(e.triggerOnTouchLeave){var l=Pe(this);u=Le(o.end,l)}!e.triggerOnTouchEnd&&u?Fe=I(E):e.triggerOnTouchLeave&&!u&&(Fe=I(m)),(Fe==y||Fe==m)&&N(t,Fe)}}else Fe=y,N(t,Fe);r===!1&&(Fe=y,N(t,Fe))}}function D(n){var t=n.originalEvent;return O&&t.touches.length>0?(ue(),!0):(ae()&&(Ve=Je),Ze=Me(),je=be(),j()||!H()?(Fe=y,N(t,Fe)):e.triggerOnTouchEnd||0==e.triggerOnTouchEnd&&Fe===E?(n.preventDefault(),Fe=m,N(t,Fe)):!e.triggerOnTouchEnd&&Z()?(Fe=m,U(t,Fe,p)):Fe===E&&(Fe=y,N(t,Fe)),se(!1),null)}function R(){Ve=0,Ze=0,Ge=0,_e=0,Qe=0,Ce=1,le(),se(!1)}function k(n){var t=n.originalEvent;e.triggerOnTouchLeave&&(Fe=I(m),N(t,Fe))}function A(){We.unbind(Re,g),We.unbind(Ne,R),We.unbind(ke,L),We.unbind(Ae,D),Ie&&We.unbind(Ie,k),se(!1)}function I(n){var t=n,r=Q(),i=H(),o=j();return!r||o?t=y:!i||n!=E||e.triggerOnTouchEnd&&!e.triggerOnTouchLeave?!i&&n==m&&e.triggerOnTouchLeave&&(t=y):t=m,t}function N(n,e){var t=void 0;return V()||F()?t=U(n,e,s):(q()||Y())&&t!==!1&&(t=U(n,e,h)),ie()&&t!==!1?t=U(n,e,f):oe()&&t!==!1?t=U(n,e,d):re()&&t!==!1&&(t=U(n,e,p)),e===y&&R(n),e===m&&(O?0==n.touches.length&&R(n):R(n)),t}function U(n,a,c){var g=void 0;if(c==s){if(We.trigger("swipeStatus",[a,He||null,Ue||0,je||0,Ve,ze]),e.swipeStatus&&(g=e.swipeStatus.call(We,n,a,He||null,Ue||0,je||0,Ve,ze),g===!1))return!1;if(a==m&&W()){if(We.trigger("swipe",[He,Ue,je,Ve,ze]),e.swipe&&(g=e.swipe.call(We,n,He,Ue,je,Ve,ze),g===!1))return!1;switch(He){case t:We.trigger("swipeLeft",[He,Ue,je,Ve,ze]),e.swipeLeft&&(g=e.swipeLeft.call(We,n,He,Ue,je,Ve,ze));break;case r:We.trigger("swipeRight",[He,Ue,je,Ve,ze]),e.swipeRight&&(g=e.swipeRight.call(We,n,He,Ue,je,Ve,ze));break;case i:We.trigger("swipeUp",[He,Ue,je,Ve,ze]),e.swipeUp&&(g=e.swipeUp.call(We,n,He,Ue,je,Ve,ze));break;case o:We.trigger("swipeDown",[He,Ue,je,Ve,ze]),e.swipeDown&&(g=e.swipeDown.call(We,n,He,Ue,je,Ve,ze))}}}if(c==h){if(We.trigger("pinchStatus",[a,Ye||null,Xe||0,je||0,Ve,Ce,ze]),e.pinchStatus&&(g=e.pinchStatus.call(We,n,a,Ye||null,Xe||0,je||0,Ve,Ce,ze),g===!1))return!1;if(a==m&&X())switch(Ye){case u:We.trigger("pinchIn",[Ye||null,Xe||0,je||0,Ve,Ce,ze]),e.pinchIn&&(g=e.pinchIn.call(We,n,Ye||null,Xe||0,je||0,Ve,Ce,ze));break;case l:We.trigger("pinchOut",[Ye||null,Xe||0,je||0,Ve,Ce,ze]),e.pinchOut&&(g=e.pinchOut.call(We,n,Ye||null,Xe||0,je||0,Ve,Ce,ze))}}return c==p?(a===y||a===m)&&(clearTimeout($e),clearTimeout(nt),B()&&!ne()?(Ke=Me(),$e=setTimeout($.proxy(function(){Ke=null,We.trigger("tap",[n.target]),e.tap&&(g=e.tap.call(We,n,n.target))},this),e.doubleTapThreshold)):(Ke=null,We.trigger("tap",[n.target]),e.tap&&(g=e.tap.call(We,n,n.target)))):c==f?(a===y||a===m)&&(clearTimeout($e),Ke=null,We.trigger("doubletap",[n.target]),e.doubleTap&&(g=e.doubleTap.call(We,n,n.target))):c==d&&(a===y||a===m)&&(clearTimeout($e),Ke=null,We.trigger("longtap",[n.target]),e.longTap&&(g=e.longTap.call(We,n,n.target))),g}function H(){var n=!0;return null!==e.threshold&&(n=Ue>=e.threshold),n}function j(){var n=!1;return null!==e.cancelThreshold&&null!==He&&(n=we(He)-Ue>=e.cancelThreshold),n}function _(){return null!==e.pinchThreshold?Xe>=e.pinchThreshold:!0}function Q(){var n;return n=e.maxTimeThreshold&&je>=e.maxTimeThreshold?!1:!0}function C(n,u){if(e.allowPageScroll===a||Y())n.preventDefault();else{var l=e.allowPageScroll===c;switch(u){case t:(e.swipeLeft&&l||!l&&e.allowPageScroll!=w)&&n.preventDefault();break;case r:(e.swipeRight&&l||!l&&e.allowPageScroll!=w)&&n.preventDefault();break;case i:(e.swipeUp&&l||!l&&e.allowPageScroll!=v)&&n.preventDefault();break;case o:(e.swipeDown&&l||!l&&e.allowPageScroll!=v)&&n.preventDefault()}}}function X(){var n=z(),e=G(),t=_();return n&&e&&t}function Y(){return!!(e.pinchStatus||e.pinchIn||e.pinchOut)}function q(){return!(!X()||!Y())}function W(){var n=Q(),e=H(),t=z(),r=G(),i=j(),o=!i&&r&&t&&e&&n;return o}function F(){return!!(e.swipe||e.swipeStatus||e.swipeLeft||e.swipeRight||e.swipeUp||e.swipeDown)}function V(){return!(!W()||!F())}function z(){return Ve===e.fingers||e.fingers===T||!O}function G(){return 0!==ze[0].end.x}function Z(){return!!e.tap}function B(){return!!e.doubleTap}function J(){return!!e.longTap}function K(){if(null==Ke)return!1;var n=Me();return B()&&n-Ke<=e.doubleTapThreshold}function ne(){return K()}function ee(){return(1===Ve||!O)&&(isNaN(Ue)||Ue<e.threshold)}function te(){return je>e.longTapThreshold&&b>Ue}function re(){return!(!ee()||!Z())}function ie(){return!(!K()||!B())}function oe(){return!(!te()||!J())}function ue(){Be=Me(),Je=event.touches.length+1}function le(){Be=0,Je=0}function ae(){var n=!1;if(Be){var t=Me()-Be;t<=e.fingerReleaseThreshold&&(n=!0)}return n}function ce(){return!(We.data(P+"_intouch")!==!0)}function se(n){n===!0?(We.bind(ke,L),We.bind(Ae,D),Ie&&We.bind(Ie,k)):(We.unbind(ke,L,!1),We.unbind(Ae,D,!1),Ie&&We.unbind(Ie,k,!1)),We.data(P+"_intouch",n===!0)}function he(n,e){var t=void 0!==e.identifier?e.identifier:0;return ze[n].identifier=t,ze[n].start.x=ze[n].end.x=e.pageX||e.clientX,ze[n].start.y=ze[n].end.y=e.pageY||e.clientY,ze[n]}function pe(n){var e=void 0!==n.identifier?n.identifier:0,t=fe(e);return t.end.x=n.pageX||n.clientX,t.end.y=n.pageY||n.clientY,t}function fe(n){for(var e=0;e<ze.length;e++)if(ze[e].identifier==n)return ze[e]}function de(){for(var n=[],e=0;5>=e;e++)n.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return n}function ge(n,e){e=Math.max(e,we(n)),qe[n].distance=e}function we(n){return qe[n]?qe[n].distance:void 0}function ve(){var n={};return n[t]=Te(t),n[r]=Te(r),n[i]=Te(i),n[o]=Te(o),n}function Te(n){return{direction:n,distance:0}}function be(){return Ze-Ge}function Se(n,e){var t=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y);return Math.round(Math.sqrt(t*t+r*r))}function Ee(n,e){var t=e/n*1;return t.toFixed(2)}function me(){return 1>Ce?l:u}function ye(n,e){return Math.round(Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2)))}function Oe(n,e){var t=n.x-e.x,r=e.y-n.y,i=Math.atan2(r,t),o=Math.round(180*i/Math.PI);return 0>o&&(o=360-Math.abs(o)),o}function xe(n,e){var u=Oe(n,e);return 45>=u&&u>=0?t:360>=u&&u>=315?t:u>=135&&225>=u?r:u>45&&135>u?o:i}function Me(){var n=new Date;return n.getTime()}function Pe(n){n=$(n);var e=n.offset(),t={left:e.left,right:e.left+n.outerWidth(),top:e.top,bottom:e.top+n.outerHeight()};return t}function Le(n,e){return n.x>e.left&&n.x<e.right&&n.y>e.top&&n.y<e.bottom}var De=O||M||!e.fallbackToMouseEvents,Re=De?M?x?"MSPointerDown":"pointerdown":"touchstart":"mousedown",ke=De?M?x?"MSPointerMove":"pointermove":"touchmove":"mousemove",Ae=De?M?x?"MSPointerUp":"pointerup":"touchend":"mouseup",Ie=De?null:"mouseleave",Ne=M?x?"MSPointerCancel":"pointercancel":"touchcancel",Ue=0,He=null,je=0,_e=0,Qe=0,Ce=1,Xe=0,Ye=0,qe=null,We=$(n),Fe="start",Ve=0,ze=null,Ge=0,Ze=0,Be=0,Je=0,Ke=0,$e=null,nt=null;try{We.bind(Re,g),We.bind(Ne,R)}catch(et){$.error("events not supported "+Re+","+Ne+" on jQuery.swipe")}this.enable=function(){return We.bind(Re,g),We.bind(Ne,R),We},this.disable=function(){return A(),We},this.destroy=function(){return A(),We.data(P,null),We},this.option=function(n,t){if(void 0!==e[n]){if(void 0===t)return e[n];e[n]=t}else $.error("Option "+n+" does not exist on jQuery.swipe.options");return null}}var t="left",r="right",i="up",o="down",u="in",l="out",a="none",c="auto",s="swipe",h="pinch",p="tap",f="doubletap",d="longtap",g="hold",w="horizontal",v="vertical",T="all",b=10,S="start",E="move",m="end",y="cancel",O="ontouchstart"in window,x=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,M=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,P="TouchSwipe",L={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};$.fn.swipe=function(e){var t=$(this),r=t.data(P);if(r&&"string"==typeof e){if(r[e])return r[e].apply(this,Array.prototype.slice.call(arguments,1));$.error("Method "+e+" does not exist on jQuery.swipe")}else if(!(r||"object"!=typeof e&&e))return n.apply(this,arguments);return t},$.fn.swipe.defaults=L,$.fn.swipe.phases={PHASE_START:S,PHASE_MOVE:E,PHASE_END:m,PHASE_CANCEL:y},$.fn.swipe.directions={LEFT:t,RIGHT:r,UP:i,DOWN:o,IN:u,OUT:l},$.fn.swipe.pageScroll={NONE:a,HORIZONTAL:w,VERTICAL:v,AUTO:c},$.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:T}});